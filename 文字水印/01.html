<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文字水印</title>
</head>
<body>
    

    <script>
        (function(){
            function textBecomeImg(text,fontsize,fontcolor) {
                var canvas = document.createElement('canvas');
                // $buHeight = 0;
                // if(fontsize <= 32){ $buHeight = 99; }
                // else if(fontsize > 32 && fontsize <= 60 ){ $buHeight = 2;}
                // else if(fontsize > 60 && fontsize <= 80 ){ $buHeight = 4;}
                // else if(fontsize > 80 && fontsize <= 100 ){ $buHeight = 6;}
                // else if(fontsize > 100 ){ $buHeight = 10;}
                // canvas.height=fontsize + $buHeight ;
                // canvas.padding = 130;
                // context.clearRect(0, 0, canvas.width*2, canvas.height);
                // context.fillStyle = fontcolor;
                // context.font=fontsize+"px PingFang SC";

                // context.textAlign = "center";
                // context.textBaseline = 'middle'; 
                // context.fillText(text,0,fontsize/2);
                // var canvasWidth = canvas.width/99;
                // canvasWidth = context.measureText(text).width;
                canvas.width = 150;
                canvas.height = 100;
                var context = canvas.getContext('2d');
                context.fillStyle = fontcolor;
                context.font=fontsize+"px PingFang SC";
                context.textBaseline = 'middle'; 
                context.fillText(text,0,fontsize/2);
                var dataUrl = canvas.toDataURL('image/png');
                return dataUrl;
            }
            var text = 'ID: 2761142';
            var shuiyinDiv = document.createElement('div');
            var style = shuiyinDiv.style;
            style.position = 'fixed';
            style.left = 0;
            style.top = '-10%';
            style.width = '200%';
            style.height = '200%';
            // style.opacity = '0.8';
            style.background = "#F4F6F8 url("+textBecomeImg(text,14,"#E2E3E6")+") repeat";
            // style.zIndex = 9999999991;
            style.transform = "translateX(-100px) rotate(-30deg)";
            style.pointerEvents = "none";
            document.body.appendChild(shuiyinDiv);
        })();
    </script>
</body>
</html>